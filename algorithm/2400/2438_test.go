// 2438.二的幂数组中查询范围内的乘积

package algorithm_2000

import (
	"reflect"
	"testing"
)

func Test_productQueries(t *testing.T) {
	type args struct {
		n       int
		queries [][]int
	}
	tests := []struct {
		name string
		args args
		want []int
	}{
		{"t1", args{15, [][]int{{0, 1}, {2, 2}, {0, 3}}}, []int{2, 4, 64}},
		{"t2", args{2, [][]int{{0, 0}}}, []int{2}},
		{"t3", args{806335498, [][]int{{11, 11}, {1, 8}, {0, 1}, {2, 4}, {9, 10}, {0, 10}, {9, 10}, {3, 6}, {2, 8}, {2, 4}, {7, 7}, {7, 8}, {11, 11}, {3, 11}, {4, 6}, {9, 10}, {6, 6}, {9, 10}, {6, 11}, {4, 4}, {1, 10}, {11, 11}, {1, 9}, {0, 5}, {11, 11}, {3, 9}, {7, 7}, {8, 11}, {3, 5}, {4, 6}, {6, 8}, {8, 11}, {10, 10}, {2, 7}, {10, 11}, {4, 9}, {7, 7}, {6, 6}, {1, 5}, {5, 11}, {6, 9}, {5, 9}, {10, 11}, {6, 7}, {4, 11}, {11, 11}, {8, 9}, {9, 9}, {8, 8}, {2, 7}, {0, 9}, {8, 10}, {11, 11}, {5, 7}, {10, 11}, {1, 9}, {2, 5}, {6, 9}, {10, 11}, {5, 10}, {8, 9}, {8, 11}, {0, 0}, {4, 5}, {7, 8}, {11, 11}, {9, 11}, {2, 8}, {9, 10}, {6, 10}, {7, 10}, {2, 7}, {1, 8}, {5, 8}, {8, 11}, {2, 6}, {4, 6}, {8, 8}, {6, 6}, {6, 11}, {11, 11}, {0, 3}, {3, 11}, {4, 10}, {2, 3}, {7, 11}, {7, 7}, {2, 6}, {11, 11}, {10, 10}, {10, 10}, {11, 11}, {4, 9}, {3, 11}, {10, 10}, {11, 11}, {10, 10}, {5, 10}, {10, 10}, {2, 8}, {11, 11}, {0, 6}, {3, 8}, {11, 11}, {0, 9}, {1, 9}, {10, 11}, {5, 5}, {2, 8}, {2, 11}, {10, 10}, {5, 6}, {2, 4}, {4, 4}, {7, 11}, {2, 6}, {9, 11}, {10, 11}, {11, 11}, {9, 10}, {1, 5}, {8, 11}, {9, 11}, {2, 9}, {4, 7}, {9, 9}, {2, 7}, {6, 6}, {11, 11}, {7, 8}, {0, 3}, {7, 11}, {11, 11}, {5, 7}, {5, 10}, {8, 9}, {5, 6}, {0, 9}, {1, 5}, {10, 11}, {8, 11}, {9, 9}, {10, 10}, {11, 11}, {3, 3}, {7, 10}, {11, 11}, {0, 3}, {2, 4}, {7, 9}, {0, 3}, {8, 11}, {8, 9}, {10, 10}, {9, 11}, {3, 8}, {6, 6}, {5, 6}, {7, 8}, {5, 6}, {7, 11}, {2, 7}, {11, 11}, {2, 10}, {5, 10}, {9, 10}, {1, 9}, {1, 4}, {10, 11}, {4, 6}, {5, 9}, {7, 11}, {4, 4}, {1, 5}, {5, 6}, {10, 10}, {8, 8}, {5, 7}, {7, 7}, {3, 5}, {3, 10}, {0, 0}, {7, 9}, {11, 11}, {0, 9}, {9, 11}, {7, 11}, {7, 10}, {4, 4}, {4, 8}, {4, 6}, {10, 11}, {10, 10}, {8, 11}, {11, 11}, {2, 3}, {8, 8}, {11, 11}, {0, 0}, {8, 8}, {6, 7}, {5, 7}, {0, 4}, {8, 8}, {10, 11}, {5, 10}, {7, 7}, {10, 11}, {11, 11}, {9, 10}, {11, 11}, {5, 9}, {1, 9}, {5, 7}, {5, 5}, {10, 10}, {11, 11}, {6, 10}, {0, 5}, {7, 10}, {3, 5}, {3, 5}, {11, 11}, {7, 11}, {8, 11}, {0, 11}, {6, 7}, {6, 10}, {3, 8}, {1, 8}, {9, 9}, {3, 7}, {1, 6}, {11, 11}, {6, 10}, {8, 11}, {9, 10}, {10, 11}, {7, 8}, {2, 11}, {5, 5}, {4, 5}, {1, 3}, {2, 9}, {9, 9}, {9, 10}, {9, 9}, {9, 9}, {9, 10}, {9, 11}, {2, 7}, {6, 10}, {7, 7}, {2, 4}, {7, 11}, {5, 7}, {3, 8}, {1, 8}, {11, 11}, {8, 11}, {3, 9}, {3, 9}, {10, 11}, {1, 6}, {11, 11}, {4, 11}, {7, 10}, {8, 11}, {1, 4}, {6, 6}, {11, 11}, {1, 7}, {9, 10}, {11, 11}, {2, 5}, {5, 9}, {6, 11}, {2, 10}, {4, 9}, {6, 6}, {5, 9}, {4, 4}, {11, 11}, {7, 9}, {8, 10}, {11, 11}, {11, 11}, {11, 11}, {4, 5}, {7, 10}, {3, 5}, {2, 5}, {3, 10}, {4, 11}, {3, 3}, {0, 4}, {9, 10}, {0, 10}, {5, 9}, {3, 6}, {4, 6}, {5, 11}, {1, 9}, {3, 3}, {4, 7}, {8, 11}, {4, 8}, {3, 7}, {8, 8}, {0, 7}, {2, 5}, {8, 11}, {9, 10}, {1, 7}, {0, 11}, {7, 7}, {10, 11}, {8, 11}, {7, 9}, {0, 7}, {5, 7}, {1, 8}, {0, 1}, {10, 10}, {8, 9}, {8, 8}, {9, 10}, {2, 9}, {1, 10}, {6, 11}, {7, 7}, {8, 10}, {9, 9}, {7, 10}, {3, 3}, {2, 9}, {11, 11}, {3, 4}, {7, 11}, {7, 10}, {7, 7}, {7, 9}, {3, 9}, {4, 8}, {11, 11}, {8, 9}, {5, 10}, {5, 9}, {3, 3}, {6, 9}, {7, 7}, {7, 8}, {9, 11}, {10, 11}, {5, 10}, {3, 11}, {7, 10}, {5, 10}, {0, 4}, {8, 8}, {11, 11}, {4, 11}, {7, 10}, {0, 1}, {5, 5}, {10, 11}, {1, 7}, {2, 9}, {2, 4}, {0, 10}, {4, 6}, {8, 11}, {5, 8}, {5, 5}, {3, 5}, {1, 2}, {5, 11}, {5, 7}, {4, 6}, {10, 10}, {9, 10}, {10, 10}, {1, 5}, {10, 10}, {6, 8}, {1, 5}, {9, 11}, {3, 8}, {3, 7}, {11, 11}, {9, 10}, {11, 11}, {11, 11}, {2, 3}, {6, 6}, {0, 11}, {10, 10}, {8, 9}, {11, 11}, {0, 5}, {11, 11}, {9, 10}, {7, 11}, {4, 10}, {0, 3}, {10, 10}, {1, 9}, {9, 10}, {7, 10}, {3, 6}, {6, 7}, {8, 8}, {9, 10}, {6, 10}, {11, 11}, {11, 11}, {0, 9}, {1, 5}, {0, 9}, {0, 4}, {10, 10}, {8, 10}, {1, 10}, {6, 8}, {11, 11}, {3, 6}, {7, 10}, {3, 6}, {11, 11}, {11, 11}, {9, 11}, {8, 11}, {4, 4}, {5, 10}, {4, 9}, {4, 9}, {4, 5}, {5, 7}, {5, 5}, {9, 10}, {6, 6}, {11, 11}, {7, 11}, {5, 6}, {8, 11}, {0, 10}, {0, 2}, {8, 8}, {7, 8}, {1, 1}, {9, 11}, {6, 8}, {8, 11}, {8, 9}, {7, 9}, {8, 9}, {7, 7}, {9, 9}, {4, 8}, {0, 3}, {1, 2}, {11, 11}, {4, 5}, {7, 8}, {10, 11}, {4, 6}, {5, 6}, {7, 11}, {10, 11}, {0, 9}, {6, 7}, {11, 11}, {9, 10}, {5, 11}, {6, 10}, {8, 11}, {0, 4}, {8, 11}, {6, 6}, {7, 8}, {2, 4}, {1, 2}, {9, 11}, {3, 5}, {10, 11}, {7, 7}, {8, 11}, {11, 11}, {1, 10}, {0, 1}, {5, 7}, {2, 6}, {5, 8}, {11, 11}, {3, 5}, {2, 9}, {10, 10}, {8, 10}, {2, 9}, {7, 9}, {5, 7}, {9, 11}, {7, 10}, {9, 10}, {0, 6}, {8, 10}, {2, 5}, {7, 9}, {4, 7}, {0, 9}, {10, 11}, {9, 9}, {9, 9}, {6, 11}, {1, 10}, {8, 11}, {10, 11}, {4, 5}, {6, 11}, {2, 7}, {1, 2}, {7, 7}, {6, 7}, {3, 6}, {7, 8}, {4, 4}, {10, 10}, {1, 2}, {3, 3}, {7, 7}, {11, 11}, {6, 11}, {0, 0}, {7, 8}, {6, 6}, {0, 8}, {4, 6}, {6, 10}, {10, 10}, {9, 11}, {4, 8}, {2, 6}, {8, 10}, {11, 11}, {6, 9}, {6, 9}, {7, 11}, {9, 9}, {6, 7}, {1, 1}, {8, 8}, {6, 10}, {7, 9}, {10, 10}, {6, 9}, {7, 9}, {3, 4}, {3, 9}, {6, 11}, {1, 2}, {7, 7}, {7, 8}, {1, 11}, {3, 5}, {10, 10}, {5, 9}, {11, 11}, {1, 1}, {4, 10}, {8, 9}, {9, 11}, {8, 9}, {3, 9}, {10, 10}, {0, 0}, {2, 11}, {10, 10}, {2, 11}, {6, 6}, {8, 8}, {9, 9}, {5, 9}, {9, 10}, {0, 8}, {8, 10}, {1, 4}, {9, 10}, {1, 11}, {2, 2}, {10, 10}, {8, 11}, {4, 8}, {2, 11}, {9, 11}, {6, 8}, {5, 5}, {2, 9}, {7, 9}, {6, 11}, {6, 8}, {5, 6}, {11, 11}, {1, 1}, {3, 10}, {4, 9}, {9, 9}, {9, 10}, {5, 7}, {7, 7}, {11, 11}, {1, 8}, {8, 10}, {1, 1}, {8, 10}, {1, 5}, {5, 5}, {9, 9}, {8, 11}, {11, 11}, {2, 3}, {0, 10}, {8, 10}, {1, 9}, {11, 11}, {3, 8}, {2, 5}, {6, 7}, {9, 10}, {9, 9}, {5, 5}, {10, 10}, {6, 8}, {0, 10}, {1, 3}, {1, 4}, {5, 10}, {9, 9}, {2, 5}, {1, 1}, {8, 8}, {7, 7}, {5, 9}, {2, 8}, {9, 9}, {8, 10}, {3, 8}, {1, 9}, {6, 9}, {2, 7}, {10, 10}, {4, 6}, {10, 11}, {5, 7}, {3, 8}, {10, 10}, {4, 4}, {1, 6}, {3, 11}, {9, 9}, {11, 11}, {9, 10}, {8, 8}, {4, 7}, {10, 10}, {4, 7}, {10, 11}, {10, 10}, {9, 11}, {2, 10}, {3, 10}, {11, 11}, {10, 10}, {7, 7}, {7, 9}, {10, 10}, {3, 4}, {10, 11}, {1, 3}, {10, 10}, {9, 11}, {5, 9}, {3, 10}, {10, 10}, {8, 8}, {1, 10}, {2, 4}, {7, 7}, {7, 7}, {7, 7}, {10, 11}, {11, 11}, {0, 2}, {1, 5}, {4, 11}, {3, 5}, {7, 11}, {1, 2}, {2, 4}, {1, 7}, {11, 11}}}, 
		[]int{536870912,621940455,16,359738130,487370169,78960675,487370169,533524785,952742563,359738130,131072,359738130,536870912,383380291,185921272,487370169,65536,487370169,639816142,8192,539480341,536870912,914988515,383381198,536870912,804188847,131072,968380808,511620083,185921272,797922655,968380808,268435456,973129099,67049563,494092823,131072,65536,191690599,495194301,270016253,892516375,67049563,589934536,631685400,536870912,438952513,524288,262144,973129099,829977023,164688009,536870912,974740338,67049563,914988515,898961331,270016253,67049563,433510734,438952513,968380808,2,268435456,359738130,536870912,281040073,952742563,487370169,494092823,986564553,973129099,621940455,329376018,968380808,329376018,185921272,262144,65536,639816142,536870912,67108864,383380291,319908071,4194304,608377687,131072,329376018,536870912,268435456,268435456,536870912,494092823,383380291,268435456,536870912,268435456,433510734,268435456,952742563,536870912,270016253,121047601,536870912,829977023,914988515,67049563,32768,952742563,581415240,268435456,147483634,359738130,8192,608377687,329376018,281040073,67049563,536870912,487370169,191690599,968380808,281040073,489373567,72793001,524288,973129099,65536,536870912,359738130,67108864,608377687,536870912,974740338,433510734,438952513,147483634,829977023,191690599,67049563,968380808,524288,268435456,536870912,4096,986564553,536870912,67108864,359738130,383381198,67108864,968380808,438952513,268435456,281040073,121047601,65536,147483634,359738130,147483634,608377687,973129099,536870912,692435047,433510734,487370169,914988515,877905026,67049563,185921272,892516375,608377687,8192,191690599,147483634,268435456,262144,974740338,131072,511620083,343449646,2,383381198,536870912,829977023,281040073,608377687,986564553,8192,248320570,185921272,67049563,268435456,968380808,536870912,4194304,262144,536870912,2,262144,589934536,974740338,755810045,262144,67049563,433510734,131072,67049563,536870912,487370169,536870912,892516375,914988515,974740338,32768,268435456,536870912,494092823,383381198,986564553,511620083,511620083,536870912,608377687,968380808,302643777,589934536,494092823,121047601,621940455,524288,160130010,635008130,536870912,494092823,968380808,487370169,67049563,359738130,581415240,32768,268435456,33554432,489373567,524288,487370169,524288,524288,487370169,281040073,973129099,494092823,131072,359738130,608377687,974740338,121047601,621940455,536870912,968380808,804188847,804188847,67049563,635008130,536870912,631685400,986564553,968380808,877905026,65536,536870912,785032743,487370169,536870912,898961331,892516375,639816142,692435047,494092823,65536,892516375,8192,536870912,383381198,164688009,536870912,536870912,536870912,268435456,986564553,511620083,898961331,343449646,631685400,4096,755810045,487370169,78960675,892516375,533524785,185921272,495194301,914988515,4096,72793001,968380808,248320570,160130010,262144,570065479,898961331,968380808,487370169,785032743,302643777,131072,67049563,968380808,383381198,570065479,974740338,621940455,16,268435456,438952513,262144,487370169,489373567,539480341,639816142,131072,164688009,524288,986564553,4096,489373567,536870912,33554432,608377687,986564553,131072,383381198,804188847,248320570,536870912,438952513,433510734,892516375,4096,270016253,131072,359738130,281040073,67049563,433510734,383380291,986564553,433510734,755810045,262144,536870912,631685400,986564553,16,32768,67049563,785032743,489373567,359738130,78960675,185921272,968380808,329376018,32768,511620083,8192,495194301,974740338,185921272,268435456,487370169,268435456,191690599,268435456,797922655,191690599,281040073,121047601,160130010,536870912,487370169,536870912,536870912,4194304,65536,302643777,268435456,438952513,536870912,383381198,536870912,487370169,608377687,319908071,67108864,268435456,914988515,487370169,986564553,533524785,589934536,262144,487370169,494092823,536870912,536870912,829977023,191690599,829977023,755810045,268435456,164688009,539480341,797922655,536870912,533524785,986564553,533524785,536870912,536870912,281040073,968380808,8192,433510734,494092823,494092823,268435456,974740338,32768,487370169,65536,536870912,608377687,147483634,968380808,78960675,16384,262144,359738130,8,281040073,797922655,968380808,438952513,383381198,438952513,131072,524288,248320570,67108864,8192,536870912,268435456,359738130,67049563,185921272,147483634,608377687,67049563,829977023,589934536,536870912,487370169,495194301,494092823,968380808,755810045,968380808,65536,359738130,359738130,8192,281040073,511620083,67049563,131072,968380808,536870912,539480341,16,974740338,329376018,329376018,536870912,511620083,489373567,268435456,164688009,489373567,383381198,974740338,281040073,986564553,487370169,270016253,164688009,898961331,383381198,72793001,829977023,67049563,524288,524288,639816142,539480341,968380808,67049563,268435456,639816142,973129099,8192,131072,589934536,533524785,359738130,8192,268435456,8192,4096,131072,536870912,639816142,2,359738130,65536,243880903,185921272,494092823,268435456,281040073,248320570,329376018,164688009,536870912,270016253,270016253,608377687,524288,589934536,8,262144,494092823,383381198,268435456,270016253,383381198,33554432,804188847,639816142,8192,131072,359738130,651321892,511620083,268435456,892516375,536870912,8,319908071,438952513,281040073,438952513,804188847,268435456,2,581415240,268435456,581415240,65536,262144,524288,892516375,487370169,243880903,164688009,877905026,487370169,651321892,1024,268435456,968380808,248320570,581415240,281040073,797922655,32768,489373567,383381198,639816142,797922655,147483634,536870912,8,343449646,494092823,524288,487370169,974740338,131072,536870912,621940455,164688009,8,164688009,191690599,32768,524288,968380808,536870912,4194304,78960675,164688009,914988515,536870912,121047601,898961331,589934536,487370169,524288,32768,268435456,797922655,78960675,33554432,877905026,433510734,524288,898961331,8,262144,131072,892516375,952742563,524288,164688009,121047601,914988515,270016253,973129099,268435456,185921272,67049563,974740338,121047601,268435456,8192,635008130,383380291,524288,536870912,487370169,262144,72793001,268435456,72793001,67049563,268435456,281040073,692435047,343449646,536870912,268435456,131072,383381198,268435456,33554432,67049563,33554432,268435456,281040073,892516375,343449646,268435456,262144,539480341,359738130,131072,131072,131072,67049563,536870912,16384,191690599,631685400,511620083,608377687,8192,359738130,785032743,536870912}},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			if got := productQueries(tt.args.n, tt.args.queries); !reflect.DeepEqual(got, tt.want) {
				t.Errorf("productQueries() = %v, want %v", got, tt.want)
			}
		})
	}
}
